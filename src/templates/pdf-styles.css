/* ─── Base Reset ──────────────────────────────────────────────────────────── */
* { box-sizing: border-box; margin: 0; padding: 0; }
body { font-family: var(--font-family, Arial, sans-serif); font-size: var(--font-size, 12pt); line-height: var(--line-spacing, 1.5); color: #1a1a1a; }

/* ─── Page Layout ─────────────────────────────────────────────────────────── */
@page {
  size: var(--paper-size, A4);
  margin-top: var(--margin-top, 20mm);
  margin-right: var(--margin-right, 15mm);
  margin-bottom: var(--margin-bottom, 20mm);
  margin-left: var(--margin-left, 15mm);
}

@media print {
  .no-print { display: none !important; }
  .page-break { page-break-before: always; }
  .avoid-break { page-break-inside: avoid; }
}

/* ─── Header ──────────────────────────────────────────────────────────────── */
.paper-header { display: flex; align-items: center; margin-bottom: 24px; border-bottom: 2px solid #333; padding-bottom: 16px; }
.paper-header.logo-left { flex-direction: row; }
.paper-header.logo-center { flex-direction: column; align-items: center; text-align: center; }
.paper-header.logo-right { flex-direction: row-reverse; }
.paper-header .logo { max-height: 60px; max-width: 120px; }
.paper-header .header-text { flex: 1; padding: 0 16px; }
.paper-header .title { font-size: 1.6em; font-weight: 700; margin-bottom: 4px; }
.paper-header .subtitle { font-size: 1.1em; color: #444; }

/* ─── Student Info ────────────────────────────────────────────────────────── */
.student-info { display: flex; flex-wrap: wrap; gap: 16px; margin-bottom: 20px; padding: 12px; border: 1px solid #ccc; background: #fafafa; }
.student-info .field { display: flex; gap: 8px; align-items: baseline; min-width: 200px; }
.student-info .field label { font-weight: 600; white-space: nowrap; }
.student-info .field .blank { flex: 1; border-bottom: 1px solid #333; min-width: 120px; }

/* ─── Instructions ────────────────────────────────────────────────────────── */
.instructions { margin-bottom: 24px; padding: 12px; border: 1px solid #ccc; border-left: 4px solid #333; background: #f9f9f9; }
.instructions h3 { font-size: 1.1em; margin-bottom: 8px; }

/* ─── Section ─────────────────────────────────────────────────────────────── */
.section { margin-bottom: 28px; }
.section-header { font-size: 1.3em; font-weight: 700; margin-bottom: 12px; padding-bottom: 4px; border-bottom: 1px solid #666; }

/* ─── Question ────────────────────────────────────────────────────────────── */
.question { margin-bottom: 16px; page-break-inside: avoid; }
.question-number { font-weight: 700; margin-right: 8px; }
.question-marks { float: right; font-size: 0.9em; color: #555; }
.question-text { margin-bottom: 8px; }

/* ─── MCQ Options ─────────────────────────────────────────────────────────── */
.mcq-options { list-style: none; padding-left: 24px; }
.mcq-options li { margin-bottom: 4px; }
.mcq-options .option-letter { font-weight: 700; margin-right: 8px; display: inline-block; width: 20px; }

/* ─── Answer Sheet: Bubble Grid ───────────────────────────────────────────── */
.bubble-grid { display: grid; grid-template-columns: 40px repeat(4, 32px); gap: 8px; align-items: center; margin-bottom: 8px; }
.bubble-grid .q-num { font-weight: 700; text-align: right; }
.bubble-grid .bubble { width: 24px; height: 24px; border: 2px solid #333; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 10px; }

/* ─── Answer Sheet: Lined Box ─────────────────────────────────────────────── */
.lined-box { border: 1px solid #ccc; padding: 8px; margin-bottom: 12px; min-height: 60px; }
.lined-box.large { min-height: 150px; }
.lined-box .line { border-bottom: 1px solid #ddd; height: 24px; }

/* ─── Solution Paper ──────────────────────────────────────────────────────── */
.solution-item { margin-bottom: 16px; padding: 12px; border: 1px solid #e0e0e0; border-radius: 4px; page-break-inside: avoid; }
.solution-item .correct-answer { color: #16a34a; font-weight: 700; margin: 8px 0; }
.solution-item .explanation { color: #444; font-style: italic; }
.solution-item .marking-notes { margin-top: 8px; font-size: 0.9em; color: #666; border-top: 1px dashed #ccc; padding-top: 8px; }

/* ─── Footer ──────────────────────────────────────────────────────────────── */
.paper-footer { margin-top: 32px; padding-top: 12px; border-top: 1px solid #ccc; font-size: 0.85em; color: #666; display: flex; justify-content: space-between; }

/* ─── Watermark ───────────────────────────────────────────────────────────── */
.watermark-overlay { position: fixed; top: 40%; left: 15%; font-size: 80px; color: rgba(0,0,0,0.06); transform: rotate(-35deg); pointer-events: none; z-index: 1000; white-space: nowrap; letter-spacing: 8px; font-weight: 700; }

/* ─── Comprehension Passage ───────────────────────────────────────────────── */
.passage { background: #f4f4f4; padding: 16px; border-left: 4px solid #666; margin-bottom: 16px; font-style: italic; }

/* ─── Match the Column ────────────────────────────────────────────────────── */
.match-columns { display: grid; grid-template-columns: 1fr 1fr; gap: 16px; margin-bottom: 16px; }
.match-columns .col-header { font-weight: 700; border-bottom: 1px solid #999; padding-bottom: 4px; margin-bottom: 8px; }
